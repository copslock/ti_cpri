/*
 *  Copyright 2009-2013 by Texas Instruments Incorporated.
 *
 *  All rights reserved. Property of Texas Instruments Incorporated.
 *  Restricted rights to use, duplicate or disclose this code are
 *  granted through contract.
 *
 */

/* THIS FILE WAS GENERATED BY ti.sysbios.genx */

/*
 *  ======== memory.cfg ========
 *
 */

var Memory = xdc.useModule('xdc.runtime.Memory');
var BIOS = xdc.useModule('ti.sysbios.BIOS');
var HeapMem = xdc.useModule('ti.sysbios.heaps.HeapMem');
var HeapBuf = xdc.useModule('ti.sysbios.heaps.HeapBuf');
var Task = xdc.useModule('ti.sysbios.knl.Task');
var Idle = xdc.useModule('ti.sysbios.knl.Idle');
var Log = xdc.useModule('xdc.runtime.Log');
var Diags = xdc.useModule('xdc.runtime.Diags'); 

/* Load the CPPI package */
var Cppi                        =   xdc.loadPackage('ti.drv.cppi'); 
/* Load the QMSS package */
var Qmss                        =   xdc.loadPackage('ti.drv.qmss');
/* Load the RM package */
var Rm                          =   xdc.loadPackage('ti.drv.rm');

/* Use the CSL module and indicate that INTC library will be used. */
var devType = "k2h";
var Csl = xdc.useModule('ti.csl.Settings');
Csl.deviceType = devType;
Csl.useCSLIntcLib = true;

var System = xdc.useModule('xdc.runtime.System');
var SysStd  = xdc.useModule('xdc.runtime.SysStd');
System.SupportProxy = SysStd;

/* IPC packages */
var SharedRegion = xdc.useModule('ti.sdo.ipc.SharedRegion');
var MultiProc = xdc.useModule('ti.sdo.utils.MultiProc');
var Ipc         = xdc.useModule('ti.sdo.ipc.Ipc');
var HeapBufMP   = xdc.useModule('ti.sdo.ipc.heaps.HeapBufMP');

/* Create a default system heap using ti.bios.HeapMem. */
var heapMemParams1         = new HeapMem.Params;
heapMemParams1.size        = 32768;
heapMemParams1.sectionName = "systemHeap";
Program.global.heap0       = HeapMem.create(heapMemParams1);

/* This is the default memory heap. */
Memory.defaultHeapInstance = Program.global.heap0;

Program.sectMap["systemHeap"] = Program.platform.stackMemory;

MultiProc.setConfig(null, ["CORE0", "CORE1", "CORE2", "CORE3"]);

/* Synchronize all processors (this will be done in Ipc_start) */
Ipc.procSync = Ipc.ProcSync_ALL;

SharedRegion.translate = false;
SharedRegion.setEntryMeta(0,
    { base: 0x0C000000,
      len: 0x00008000,
      ownerProcId: 0,
      isValid: true,
      name: "sharemem",
    });

/* Create a default system heap using ti.bios.HeapMem. */
/*
var heapMemParams1 = new HeapMem.Params;
if (prog.build.target.name == "C28_large" || 
    prog.build.target.name == "C28_float" ) {
    heapMemParams1.size = 2048;
}
else {
    heapMemParams1.size = 8192;
}
heapMemParams1.sectionName = "systemHeap";
Program.global.heap0 = HeapMem.create(heapMemParams1);
*/

/* Plug in systemheap as default heap to be used by Memory */
/* Memory.defaultHeapInstance = Program.global.heap0; */

var heapMemParams2 = new HeapMem.Params;
heapMemParams2.size = 16384;
heapMemParams2.align = 8;
heapMemParams2.sectionName = "cppiSharedHeap";
Program.global.cppiSharedHeap = HeapMem.create(heapMemParams2);

/* Place user sections */
/*
Program.sectMap["systemHeap"] = Program.platform.stackMemory;
Program.sectMap["task0Heap"] = Program.platform.dataMemory;
Program.sectMap["task1Heap"] = Program.platform.dataMemory;
Program.sectMap["task0Stack"] = Program.platform.stackMemory;
*/

/* Add idle function */
/*Idle.addFunc('&idl0Fxn');*/
/*
 *  @(#) ti.sysbios.genx; 2, 0, 0, 0,275; 4-29-2009 15:45:06; /db/vtree/library/trees/avala/avala-k25x/src/
 */

